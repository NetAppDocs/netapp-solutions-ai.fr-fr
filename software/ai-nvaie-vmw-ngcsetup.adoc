---
sidebar: sidebar 
permalink: software/ai-nvaie-vmw-ngcsetup.html 
keywords: NetApp AI, AI, Artificial Intelligence, ML, Machine Learning, NVIDIA, NVIDIA AI Enterprise, NVAIE, VMware, NGC 
summary: NVIDIA AI Enterprise avec NetApp et VMware - Utilisation du logiciel NVIDIA NGC - Configuration 
---
= Installation
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Cette section décrit les tâches de configuration initiales qui doivent être effectuées pour utiliser le logiciel d'entreprise NVIDIA NGC dans un environnement NVIDIA AI Enterprise.



== Prérequis

Avant d'effectuer les étapes décrites dans cette section, nous supposons que vous avez déjà déployé le logiciel hôte NVIDIA AI Entrprise en suivant les instructions décrites sur lelink:ai-nvaie-vmw-setup.html["Configuration initiale"] page.



== Créer une machine virtuelle invitée Ubuntu avec vGPU

Tout d’abord, vous devez créer une machine virtuelle invitée Ubuntu 20.04 avec vGPU.  Pour créer une machine virtuelle invitée Ubuntu 20.04 avec vGPU, suivez les instructions décrites dans lelink:https://docs.nvidia.com/ai-enterprise/deployment-guide-vmware/0.1.0/first-vm.html["Guide de déploiement de NVIDIA AI Enterprise"] .



== Téléchargez et installez le logiciel invité NVIDIA

Ensuite, vous devez installer le logiciel invité NVIDIA requis dans la machine virtuelle invitée que vous avez créée à l’étape précédente.  Pour télécharger et installer le logiciel invité NVIDIA requis dans la machine virtuelle invitée, suivez les instructions décrites dans les sections 5.1 à 5.4 dulink:https://docs.nvidia.com/ai-enterprise/latest/quick-start-guide/index.html["Guide de démarrage rapide de NVIDIA AI Enterprise"] .


NOTE: Lors de l'exécution des tâches de vérification décrites dans la section 5.4, vous devrez peut-être utiliser une balise de version d'image de conteneur CUDA différente, car l'image de conteneur CUDA a été mise à jour depuis la rédaction du guide.  Dans notre validation, nous avons utilisé « nvidia/cuda:11.0.3-base-ubuntu20.04 ».



== Télécharger le(s) conteneur(s) du framework IA/Analytics

Ensuite, vous devez télécharger les images de conteneur d’IA ou de framework d’analyse nécessaires à partir de NVIDIA NGC afin qu’elles soient disponibles dans votre machine virtuelle invitée.  Pour télécharger les conteneurs de framework dans la machine virtuelle invitée, suivez les instructions décrites dans lelink:https://docs.nvidia.com/ai-enterprise/deployment-guide-vmware/0.1.0/installing-ai.html["Guide de déploiement de NVIDIA AI Enterprise"] .



== Installer et configurer la boîte à outils NetApp DataOps

Ensuite, vous devez installer NetApp DataOps Toolkit pour les environnements traditionnels dans la machine virtuelle invitée.  La boîte à outils NetApp DataOps peut être utilisée pour gérer les volumes de données évolutifs sur votre système ONTAP directement à partir du terminal dans la machine virtuelle invitée.  Pour installer NetApp DataOps Toolkit dans la machine virtuelle invitée, effectuez les tâches suivantes.

. Installer pip.
+
....
$ sudo apt update
$ sudo apt install python3-pip
$ python3 -m pip install netapp-dataops-traditional
....
. Déconnectez-vous du terminal VM invité, puis reconnectez-vous.
. Configurez la boîte à outils NetApp DataOps.  Pour terminer cette étape, vous aurez besoin des détails d’accès API pour votre système ONTAP .  Vous devrez peut-être les obtenir auprès de votre administrateur de stockage.
+
....
$ netapp_dataops_cli.py config

Enter ONTAP management LIF hostname or IP address (Recommendation: Use SVM management interface): 172.22.10.10
Enter SVM (Storage VM) name: NVAIE-client
Enter SVM NFS data LIF hostname or IP address: 172.22.13.151
Enter default volume type to use when creating new volumes (flexgroup/flexvol) [flexgroup]:
Enter export policy to use by default when creating new volumes [default]:
Enter snapshot policy to use by default when creating new volumes [none]:
Enter unix filesystem user id (uid) to apply by default when creating new volumes (ex. '0' for root user) [0]:
Enter unix filesystem group id (gid) to apply by default when creating new volumes (ex. '0' for root group) [0]:
Enter unix filesystem permissions to apply by default when creating new volumes (ex. '0777' for full read/write permissions for all users and groups) [0777]:
Enter aggregate to use by default when creating new FlexVol volumes: aff_a400_01_NVME_SSD_1
Enter ONTAP API username (Recommendation: Use SVM account): admin
Enter ONTAP API password (Recommendation: Use SVM account):
Verify SSL certificate when calling ONTAP API (true/false): false
Do you intend to use this toolkit to trigger BlueXP Copy and Sync operations? (yes/no): no
Do you intend to use this toolkit to push/pull from S3? (yes/no): no
Created config file: '/home/user/.netapp_dataops/config.json'.
....




== Créer un modèle de machine virtuelle invitée

Enfin, vous devez créer un modèle de VM basé sur votre VM invitée.  Vous pourrez utiliser ce modèle pour créer rapidement des machines virtuelles invitées pour utiliser le logiciel NVIDIA NGC.

Pour créer un modèle de machine virtuelle basé sur votre machine virtuelle invitée, connectez-vous à VMware vSphere, cliquez avec le bouton droit sur le nom de la machine virtuelle invitée, choisissez « Cloner », choisissez « Cloner vers un modèle... », puis suivez l'assistant.

image:nvaie-003.png["Figure montrant une boîte de dialogue d'entrée/sortie ou représentant un contenu écrit"]
